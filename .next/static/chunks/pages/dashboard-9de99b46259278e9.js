(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1075:function(t,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return o(2804)}])},2804:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return dashboard}});var n=o(5893),r=o(5582),a=o(7294),i=o(4480),s=o(6693),c=o(1159),d=o(1233),l=o(5861),h=o(2510),u=o(9417),p=o(2428),x=o(3052),T=o.n(x),m=o(6584),Todo_TodoForm=()=>{let[t,e]=(0,a.useState)(""),{postTodoService:o,getTodoService:x}=(0,m.Z)(),[j,f]=(0,i.FV)(s.b),w=j.filter(t=>!0===t.completed),handleSubmit=async n=>{n.preventDefault(),await o({task:t}),e("");let r=await x();f([...r])};return(0,n.jsx)("div",{className:T().todoContainer,children:(0,n.jsxs)(r.Z,{maxWidth:"sm",children:[(0,n.jsxs)(d.Z,{marginBottom:"8px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,n.jsx)(l.Z,{variant:"h5",children:c.$C}),(0,n.jsxs)("p",{children:[c.Qc," ",w.length," / ",j.length]})]}),(0,n.jsx)("form",{onSubmit:t=>handleSubmit(t),children:(0,n.jsxs)(d.Z,{direction:"row",spacing:1,children:[(0,n.jsx)(h.Z,{placeholder:c.EY,autoFocus:!0,value:t,onChange:t=>e(t.target.value),required:!0,sx:{width:"100%"},size:"small"}),(0,n.jsx)(u.Z,{sx:{textTransform:"none",width:"30%"},variant:"contained",color:"primary",onClick:handleSubmit,startIcon:(0,n.jsx)(p.Z,{}),children:c.Tl})]})})]})})},j=o(7906),f=o(295),w=o(6761),y=o(3816),_=o(3252),g=o(5071),Todo_Todo=t=>{let{id:e,task:o,completed:r}=t,{putTodoService:l,deleteTodoService:h,getTodoService:p}=(0,m.Z)(),[,x]=(0,i.FV)(s.b),[T,j]=(0,a.useState)(r),handleDeleteSubmit=async t=>{try{await h(t)}catch(t){throw Error(t)}let e=await p();x([...e])},handleCompletedCheck=async t=>{try{let e=await l(t),o=await p();x([...o]),j(e.completed)}catch(t){throw Error(t)}};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(_.Z,{padding:"none",width:"100%",sx:{padding:"5px 10px ",marginBottom:"10px"},children:T?(0,n.jsx)(t=>{let{children:e}=t;return(0,n.jsx)("span",{style:{textDecoration:"line-through",letterSpacing:"2px"},children:e})},{children:o}):o}),(0,n.jsx)(_.Z,{padding:"none",children:(0,n.jsxs)(d.Z,{direction:"row",spacing:1,children:[(0,n.jsx)(_.Z,{padding:"none",children:(0,n.jsx)(g.Z,{checked:T,onChange:()=>handleCompletedCheck(e)})}),(0,n.jsx)(u.Z,{startIcon:(0,n.jsx)(w.Z,{}),variant:"contained",color:"error",size:"small",sx:{textTransform:"none"},onClick:()=>handleDeleteSubmit(e),children:c.yY})]})})]})})},Todo_TodoDisplayList=()=>{let t=(0,i.sJ)(s.b);return(0,n.jsx)(j.Z,{sx:{marginTop:"10px"},children:(0,n.jsx)(f.Z,{children:t.map(t=>(0,n.jsx)(Todo_Todo,{id:t.id,task:t.task,completed:t.completed},t.id))})})},Todo_TodoMain=()=>(0,n.jsxs)(r.Z,{maxWidth:"md",sx:{borderRadius:"6px"},children:[(0,n.jsx)(Todo_TodoForm,{}),(0,n.jsx)(Todo_TodoDisplayList,{})]}),dashboard=()=>(0,n.jsx)(Todo_TodoMain,{})},6693:function(t,e,o){"use strict";o.d(e,{b:function(){return s}});var n=o(4480),r=o(6983),a=o(1159);let{persistAtom:i}=(0,r.J)({key:a.cL}),s=(0,n.cn)({key:"userTodoListState",default:[],effects:[i]})},6584:function(t,e,o){"use strict";var n=o(5403),r=o(7294);e.Z=()=>{let{getCookieByName:t}=(0,n.Z)(),[e,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{{let e=t("token");o(e)}},[t]);let getTodoService=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let o=await fetch("http://localhost:4000/todos",{headers:{Authorization:"Basic "+(t||e),"Content-Type":"application/json"}});return o.json()}catch(t){throw t}},postTodoService=async t=>{let{task:o}=t;try{let t=await fetch("http://localhost:4000/todos",{method:"POST",headers:{Authorization:"Basic "+e,"Content-Type":"application/json"},body:JSON.stringify({task:o})});return t.json()}catch(t){throw t}},putTodoService=async t=>{try{let o=await fetch("http://localhost:4000/todos/".concat(t),{method:"PUT",headers:{Authorization:"Basic "+e,"Content-Type":"application/json"}});return o.json()}catch(t){throw t}},deleteTodoService=async t=>{try{let o=await fetch("http://localhost:4000/todos/".concat(t),{method:"DELETE",headers:{Authorization:"Basic "+e,"Content-Type":"application/json"}});return o.json()}catch(t){throw t}};return{getTodoService,postTodoService,putTodoService,deleteTodoService}}},3052:function(t){t.exports={todoContainer:"TodoForm_todoContainer__qOcmR"}}},function(t){t.O(0,[106,90,774,888,179],function(){return t(t.s=1075)}),_N_E=t.O()}]);