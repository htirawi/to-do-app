exports.id=78,exports.ids=[78],exports.modules={2365:e=>{e.exports={button:"UserList_button__h5vBX"}},4078:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=s(997),r=s(6689),l=s(9755),u=s(5042),o=s(5403),i=s(1163),c=s(6584),d=s(2365),m=s.n(d),h=s(5857),_=s.n(h),p=s(6024),f=s.n(p),x=s(8316),w=s.n(x),g=s(7988),y=s.n(g),b=s(9580),E=s.n(b),j=s(6096),v=s.n(j),S=s(3674),A=s.n(S),C=s(6964),P=s.n(C),R=s(2493),T=s.n(R),U=s(4317),D=s.n(U),L=s(1159),W=s(5474),F=e([W]);W=(F.then?(await F)():F)[0];let __WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,i.useRouter)(),[t,s]=(0,l.useRecoilState)(u.b),{setCookie:a}=(0,o.Z)(),[d,,h,p]=(0,W.Z)(),[x,g]=(0,r.useState)([]),[b,j]=(0,r.useState)(!1),[S,C]=(0,r.useState)(""),[R,U]=(0,r.useState)({username:"",password:""}),[F,k]=(0,r.useState)(!1),z=(0,r.useRef)(null),B=(0,r.useRef)(null),{getTodoService:O}=(0,c.Z)(),fetchUsers=async()=>{await p({method:"get",url:"http://localhost:4000/users"})};if((0,r.useEffect)(()=>{fetchUsers()},[]),(0,r.useEffect)(()=>{g(d)},[d]),h)return n.jsx("div",{children:"Loading..."});let login=async t=>{t.preventDefault(),k(!0);let n=x.find(e=>e.username===R.username).avatar,r={username:R.username,avatar:n},l=JSON.stringify(r);localStorage.setItem("userInfo",l);try{let t=btoa(`${R.username}:${R.password}`);a("token",t,1);let n=await O(t);n&&n.length>0?(j(!1),s(n),k(!1),e.push("/dashboard")):(C(n.message),j(!0))}catch(e){throw j(!0),e}},clickHandler=e=>{k({...F,[e]:!0}),setTimeout(()=>k({...F,[e]:!1}),2e3)};return(0,n.jsxs)("form",{onSubmit:login,children:[n.jsx(_(),{fullWidth:!0,children:n.jsx(P(),{action:z,value:R.username,placeholder:L.Aq,required:!0,size:"lg",id:"selectUser",onChange:(e,t)=>U({username:t,password:""}),...R.username&&{endDecorator:n.jsx(f(),{size:"sm",variant:"plain",color:"neutral",onMouseDown:e=>{e.stopPropagation()},onClick:()=>{U({username:"",password:""}),z.current?.focusVisible()},children:n.jsx(D(),{})}),indicator:null},children:x.map(e=>(0,n.jsxs)(T(),{value:e.username,label:e.name,children:[n.jsx(w(),{size:"sm",alt:e.name,src:e.avatar,loading:"lazy"}),e.name]},e.username))})}),n.jsx(y(),{margin:"normal",required:!0,fullWidth:!0,name:"password",label:L.Qj,inputRef:B,onChange:e=>{U({...R,password:e.target.value})},type:"password",id:"password"}),b&&n.jsx(E(),{severity:"error",children:S}),n.jsx(v(),{type:"submit",fullWidth:!0,mt:"md",radius:"md",className:m().button,onClick:()=>clickHandler("button"),endIcon:F.button?n.jsx(A(),{size:20}):null,sx:{mt:3,mb:2},children:L.ym})]})};a()}catch(e){a(e)}})},5474:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=s(6689),r=s(9648),l=e([r]);r=(l.then?(await l)():l)[0];let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(""),[l,u]=(0,n.useState)(!0),axiosFetch=async e=>{try{u(!0),a(""),t([]);let{method:s,url:n,headers:l=null,body:o=null}=e,i=await r.default[s.toLowerCase()](n,o,l);t(i.data)}catch(e){a(e)}u(!1)};return[e,s,l,axiosFetch]};a()}catch(e){a(e)}})}};